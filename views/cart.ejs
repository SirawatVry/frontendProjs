<main class="container mx-auto px-4">
    <h1 class="text-2xl font-bold">Shopping Cart</h1>
    <div id="cart-items" class="mt-4"></div>
    <button class="bg-[#ffb84d] text-white px-6 py-3 rounded mt-4" id="checkout">Checkout</button>
</main>

<script>
    async function fetchCart() {
        const response = await fetch("/cart/1");
        const cartItems = await response.json();
        let html = "";
        
        cartItems.forEach(item => {
            html += `
                <div class="p-4 bg-white shadow-md rounded">
                    <h3>${item.Product.Product_Name} - ${item.Quantity} pcs</h3>
                    <p>${item.Product.Product_Price} à¸¿</p>
                    <button onclick="removeItem(${item.Cart_ID})">Remove</button>
                </div>
            `;
        });

        document.getElementById("cart-items").innerHTML = html;
    }

    async function removeItem(cartId) {
        await fetch(`/cart/delete/${cartId}`, { method: "DELETE" });
        fetchCart();
    }

    document.getElementById("checkout").addEventListener("click", () => {
        alert("Proceed to checkout");
    });

    fetchCart();
</script>
